@model Ahora.WebApp.Models.Ptl.SliderListModel
@{ bool active = true;}

@if (Model.AvailableSliders != null && Model.AvailableSliders.Count > 0)
{
    <div id="carousel" class="carousel slide carousel-fade" data-ride="carousel">
        <ol class="carousel-indicators">
            @for (int i = 0; i < Model.AvailableSliders.Count; i++)
            {
                if (active)
                {
                    <li data-target="#carousel" data-slide-to="@i" class="active"></li>
                    active = false;
                }
                else
                {

                    <li data-target="#carousel" data-slide-to="@i"></li>
                }
            }
        </ol>
        <div class="carousel-inner">
            @{ active = true;}
            @foreach (var item in Model.AvailableSliders)
            {
                if (active)
                {
                    <div class="carousel-item active">
                        <img src="~/Content/TemporaryFiles/@item.Path/@item.PictureAttachments.Select(a=>a.FileName).FirstOrDefault()" class="d-block w-100" alt="@item.Title">
                    </div>
                    active = false;
                }
                else
                {

                    <div class="carousel-item">
                        <img src="~/Content/TemporaryFiles/@item.Path/@item.PictureAttachments.Select(a=>a.FileName).FirstOrDefault()" class="d-block w-100" alt="@item.Title">
                    </div>
                }
            }

        </div>
        <a class="carousel-control-prev" href="#carousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">قبلی</span>
        </a>
        <a class="carousel-control-next" href="#carousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">بعدی</span>
        </a>
    </div>
}
